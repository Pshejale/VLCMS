{% extends "base.html" %}

{% block title %}Database Triggers{% endblock %}

{% block content %}
<h2> Database Triggers</h2>

{% if triggers and triggers|length > 0 %}
<table border="1" cellpadding="6" cellspacing="0">
  <tr>
    <th>Trigger Name</th>
    <th>Table</th>
    <th>Event</th>
    <th>Timing</th>
  </tr>
  {% for t in triggers %}
  <tr>
    <td>{{ t.TRIGGER_NAME }}</td>
    <td>{{ t.table_name }}</td>
    <td>{{ t.event_type }}</td>
    <td>{{ t.timing }}</td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>No triggers found in the VLCMS database.</p>
{% endif %}

<p style="margin-top:20px;">
  <i>Note: Triggers execute automatically when INSERT, UPDATE, or DELETE events occur on their respective tables.</i>
</p>

<a href="{{ url_for('dashboard') }}">‚Üê Back to Dashboard</a>
{% endblock %}
